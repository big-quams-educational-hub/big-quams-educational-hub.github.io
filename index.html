<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Big Quams Educational Hub - News</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #ffffff;
    color: #333333;
    margin: 0; padding: 20px;
  }
  h1 {
    color: #007acc; /* Your blue */
    text-align: center;
  }
  #news-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 20px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .news-card {
    background: #f0f8ff; /* light blue */
    padding: 15px;
    border-left: 5px solid #007acc;
    border-radius: 4px;
    box-shadow: 0 1px 5px rgba(0,0,0,0.1);
  }
  .news-card h3 {
    margin: 0 0 5px;
    color: #007acc;
  }
  .news-meta {
    font-size: 0.85rem;
    color: #555;
    margin-bottom: 8px;
  }
  .news-card p {
    margin: 0 0 10px;
  }
  .read-more {
    color: #ff6600; /* Your orange */
    text-decoration: none;
    font-weight: bold;
  }
  .read-more:hover {
text-decoration: underline;
  }
</style>
</head>
<body>

<h1>Latest News Updates</h1>
<div id="news-container">
  <!-- News cards will be injected here -->
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const newsContainer = document.getElementById('news-container');

  function dateFmt(dateStr) {
    if (!dateStr) return '';
    const d = new Date(dateStr);
    return d.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' });
  }

  function renderArticles(articles) {
    newsContainer.innerHTML = '';
    articles.forEach(a => {
      const card = document.createElement('div');
      card.className = 'news-card';
      card.innerHTML = `
        <h3>a.title || 'Untitled News'</h3>{a.publishedAt ? `<div class="news-meta">dateFmt(a.publishedAt)</div>` : ‚Äù
        <p>{a.description || 'No description available.'}</p>
        <a class="read-more" target="_blank"
           href="https://wa.me/2349049871643?text=Hello%20BIG%20QUAMS%20MEDIA%20HUB%2C%20I'm%20interested%20in%20${encodeURIComponent(a.title || 'this news')}">
           Read More
        </a>
      `;
      newsContainer.appendChild(card);
    });
  }

  function loadFallback() {
    const fallback = [
{ title: "Federal Government Announces New Scholarship Scheme", description: "Eligible students across Nigeria can now apply for the 2025 scholarship program to study locally and internationally." },
      { title: "WAEC Releases 2025 Examination Timetable", description: "The West African Examination Council has officially published the timetable for the upcoming WAEC examinations." },
      { title: "Nigerian Universities to Resume Academic Activities", description: "Most public universities are set to resume academic activities from September following the recent ASUU agreement." }
    ];
    renderArticles(fallback);
  }

  fetch("https://sheetdb.io/api/v1/87gi3xnxyfj5w")
    .then(response => response.json())
    .then(data => {
      if (data && data.length > 0) {
        const articles = data.map(item => ({
          title: item.title,
          publishedAt: item.date || item.publishedAt,
          description: item.description || item.body
        }));
        renderArticles(articles);
      } else {
        loadFallback();
      }
    })
    .catch(() => loadFallback());
});
</script>

</body>
</html>
